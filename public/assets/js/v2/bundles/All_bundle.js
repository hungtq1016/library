!function(e){var o={};function n(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=o,n.d=function(e,o,t){n.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:t})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="",n.w={},n(n.s=1)}([,function(e,o,n){"use strict";function t(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}n.r(o);var i=function(){function e(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,o,n){o&&t(e.prototype,o),n&&t(e,n)}(e,null,[{key:"get",value:function(e){for(var o=e+"=",n=document.cookie.split(";"),t=0;t<n.length;t++){for(var i=n[t];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(o))return i.substring(o.length,i.length)}return null}},{key:"set",value:function(e,o,n){if(null===o||void 0===o)throw Error("No null, undefined, or empty values in cookies please");document.cookie="".concat(e,"=").concat(o,";").concat(n?"Max-Age=".concat(60*n,";"):"","path=/")}},{key:"erase",value:function(o){e.set(o,"",-1)}}]),e}();function r(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var a=function(){function e(o,n,t){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),this.message=o,this.lifespan=t,this.className=n,this.isDismissable=i,this.targetEle=$(".SiteMessageBannerContainer")}return function(e,o,n){o&&r(e.prototype,o),n&&r(e,n)}(e,[{key:"render",value:function(){var e=this;if(null===i.get(this.className)){var o=$('<div class="SiteMessageBanner '.concat(this.className,'">\n                                <p>').concat(this.message,"</p> ").concat(this.isDismissable?'<button class="dismiss"> X </button>':"","\n                            </div>"));o.find(".dismiss").on("click",function(){e.dismissBanner()}),this.targetEle.append(o),this.targetEle.show()}}},{key:"dismissBanner",value:function(){this.targetEle.hide(),i.set(this.className,0,this.lifespan)}}]),e}();function s(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var c=function(){function e(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e);var o='<a target="_blank" href="https://help.overdrive.com/en-us/2271.htm">'.concat(window.OverDrive.SiteCopy.get("learnMore"),"</a>"),n=window.OverDrive.SiteCopy.get("tlsEarlyWarningMessage",{learnMoreLink:o}),t=new a(n,"TlsDepreciationMessage",20160);this.render(t)}return function(e,o,n){o&&s(e.prototype,o),n&&s(e,n)}(e,[{key:"render",value:function(e){$.get("https://www.howsmyssl.com/a/check",function(o){var n=o.tls_version.split(" ");("TLS"!=n[0]||n[1]<1.2)&&e.render()})}}]),e}();function l(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var u=function(){function e(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e);var o=window.OverDrive.SiteCopy.get("preventLoginBanner"),n=new a(o,"PreventUserLoginMessage",20160,!1);this.render(n)}return function(e,o,n){o&&l(e.prototype,o),n&&l(e,n)}(e,[{key:"render",value:function(e){$(".SiteMessageBannerContainer.PreventLoginBanner").length>0&&e.render()}}]),e}();function f(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var d=function(){function e(o,n,t){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),this.allowPerformanceCookies=o,this.allowUserBehaviorCookies=n,this.showMessage=t,this.targetEle=$(".modal-backdrop"),this.render()}return function(e,o,n){o&&f(e.prototype,o),n&&f(e,n)}(e,[{key:"buildTemplate",value:function(){return'\n            <div class="CookieSettingsModal" id="cookie-modal">\n                <header>\n                    <h1 class="modal-header-text">'.concat(window.OverDrive.SiteCopy.get("cookieSettings.cookieSettingsHeader"),'</h1>\n                </header>\n                \n                <button class="close"> &times; </button>\n                <div class="modal-body">\n                    <p class="cookie-modal-description">').concat(window.OverDrive.SiteCopy.get("cookieSettings.description"),'</p>\n                    <div class="c_half cookies">\n                        <input type="checkbox" disabled="disabled" checked="checked">\n                        ').concat(window.OverDrive.SiteCopy.get("cookieSettings.requiredCookiesLabel"),'\n                        <p class="cookie-description">').concat(window.OverDrive.SiteCopy.get("cookieSettings.requiredCookiesDescription"),'</p>\n                    </div>\n                    <div class="c_half cookies">\n                        <input name="performance-cookie" type="checkbox" ').concat(this.allowPerformanceCookies?'checked="checked"':"",">\n                        ").concat(window.OverDrive.SiteCopy.get("cookieSettings.performanceCookiesLabel"),'\n                        <p class="cookie-description">').concat(window.OverDrive.SiteCopy.get("cookieSettings.performanceCookiesDescription"),'</p>\n                    </div>\n                    <div class="c_half cookies">\n                        <input name="behavior-cookie" type="checkbox" ').concat(this.allowUserBehaviorCookies?'checked="checked"':"",">\n                        ").concat(window.OverDrive.SiteCopy.get("cookieSettings.researchCookiesLabel"),'\n                        <p class="cookie-description">').concat(window.OverDrive.SiteCopy.get("cookieSettings.researchCookiesDescription"),'</p>\n                    </div>\n                    \n                    <p class="cookie-policy">').concat(window.OverDrive.SiteCopy.get("cookieSettings.learnMoreAboutCookies"),'</p>\n                    <p class="privacy-policy">').concat(window.OverDrive.SiteCopy.get("cookieSettings.learnMoreAboutPrivacy"),'</p>\n                </div>\n\n                <button class="save-button">').concat(window.OverDrive.SiteCopy.get("cookieSettings.confirm"),"</button>\n            </div>\n        ")}},{key:"render",value:function(){var e=this;this.targetEle.empty(),this.targetEle.append(this.buildTemplate()),this.targetEle.show(),$(".CookieSettingsModal .close, .modal-backdrop").on("click",function(){e.close()}),$(".CookieSettingsModal").on("click",function(e){e.stopPropagation()}),$('input[name="performance-cookie"]').click(function(o){o.stopPropagation(),e.allowPerformanceCookies?e.allowPerformanceCookies=!1:e.allowPerformanceCookies=!0,$('input[name="performance-cookie"]').prop("checked",e.allowPerformanceCookies)}),$('input[name="behavior-cookie"]').click(function(o){o.stopPropagation(),e.allowUserBehaviorCookies?e.allowUserBehaviorCookies=!1:e.allowUserBehaviorCookies=!0,$('input[name="behavior-cookie"]').prop("checked",e.allowUserBehaviorCookies)}),$(".save-button").on("click",function(){$.post("/cookie-settings/modal-edit",{allowBehaviorCookies:e.allowUserBehaviorCookies,allowPerformanceCookies:e.allowPerformanceCookies,showMessage:e.showMessage},function(o){e.close()})})}},{key:"close",value:function(){this.targetEle.hide(),window.location.hash=""}}]),e}();function p(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var v=function(){function e(o){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),this.featureFlags=o}return function(e,o,n){o&&p(e.prototype,o),n&&p(e,n)}(e,[{key:"isEnabled",value:function(e){return this.featureFlags&&this.featureFlags[e]}}]),e}();$(document).ready(function(){if(!0==!!window.OverDrive.EnableTlsSiteMessage)new c;new u;$(".cookies-modal-button, .cs-footer_cookie-modal").on("click",function(){var e=i.get("od_track"),o=!0,n=!0;1!=e&&0!=e||(n=!1),2!=e&&0!=e||(o=!1);new d(o,n,!0)}),!0==!!window.OverDrive.UsingContentStackFooter&&(console.log("using content stack footer "),$(".site-footer__section").on("click",function(e){var o=$(e.currentTarget).find("ul.site-footer__list"),n=$("ul.site-footer__list:not(.footer-items-hide)");o.hasClass("footer-items-hide")?(n.length>0&&n.first().addClass("footer-items-hide"),o.removeClass("footer-items-hide")):o.addClass("footer-items-hide")})),!0==!!window.OverDrive.AddLibbyBlogTab&&$(".u_search__query").on("input",function(){$(".tt-dropdown-menu").hasClass("libbyBlogLinkStylingUpdates")||$(".tt-dropdown-menu").addClass("libbyBlogLinkStylingUpdates")}),window.OverDrive.featureManager=new v(window.OverDrive.FeatureFlags)})}]);
//# sourceMappingURL=All_bundle.js.map